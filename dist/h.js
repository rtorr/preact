import{VNode}from'./vnode.js';import options from'./options.js';const stack=[],EMPTY_CHILDREN=[];export function h(a,b){let d,e,f,g,c=EMPTY_CHILDREN;for(g=arguments.length;2<g--;)stack.push(arguments[g]);for(b&&null!=b.children&&(!stack.length&&stack.push(b.children),delete b.children);stack.length;)if((e=stack.pop())&&void 0!==e.pop)for(g=e.length;g--;)stack.push(e[g]);else(!0===e||!1===e)&&(e=null),(f='function'!=typeof a)&&(null==e?e='':'number'==typeof e?e+='':'string'!=typeof e&&(f=!1)),f&&d?c[c.length-1]+=e:c===EMPTY_CHILDREN?c=[e]:c.push(e),d=f;let j=new VNode;return j.nodeName=a,j.children=c,j.attributes=null==b?void 0:b,j.key=null==b?void 0:b.key,void 0!==options.vnode&&options.vnode(j),j}